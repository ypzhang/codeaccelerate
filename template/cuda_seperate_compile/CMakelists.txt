#Required for CUDA-Check
cmake_minimum_required(VERSION 2.8.10)

project(cuda_sep_compile)

# ============================================
# === Target
# ============================================
file(GLOB_RECURSE gpuacc_SRCS "*.cu")
include_directories(src)

# ---------------------------------------
# Find Cuda
find_package(CUDA REQUIRED)

set(CUDA_ATTACH_VS_BUILD_RULE_TO_CUDA_FILE ON)

set(BUILD_SHARED_LIBS OFF)

set(CUDA_SEPARABLE_COMPILATION ON)
#list(APPEND CUDA_NVCC_FLAGS -arch=sm_20)

set(LIB_NAME "gpu_dyn_par")
cuda_add_library(${LIB_NAME}
  ${gpuacc_SRCS} 
#  RELEASE -DNDEBUG
#  DEBUG -g -DDEBUG
)

#set(PUBLIC_HEADERS "myheader1.h;myheader2.h")

#INSTALL(FILES ${PUBLIC_HEADERS} DESTINATION include)
#INSTALL(FILES "${CMAKE_BINARY_DIR}/src/lib${LIB_NAME}.a" DESTINATION lib)
